{% extends 'items/m_base.html' %}
{% load static %}

{% block content %}
    <section id="section_intro">
        <div class="intro_container section_container">
            <div class="intro_title">
                {{ item.name }}
            </div>
            <div class="intro_image">
                <img src="{{ item.main_image.0 }}"/>
            </div>

            <div class="intro_wrapper">
                <div class="intro_info_title">
                    ì‚¬ì—… ê°œìš”
                </div>
                <div class="intro_divider"></div>

                <div class="intro_info">
                    <div class="intro_info_container">

                        <div class="intro_info_share">
                            <div class="intro_info_subtitle">
                                <p>ì¶œì ê¸ˆì•¡</p>
                                <p> | 1/8 ì§€ë¶„</p>
                            </div>
                            <div class="intro_info_price">
                                {{ item.share_price }}
                            </div>
                        </div>
                        <div class="intro_info_status">
                            <div class="intro_info_subtitle">
                                <p>ì§„í–‰ ìƒí™©</p>
                            </div>
                            <div class="intro_info_status_container">

                                {% if item.status == "ì†Œìœ ì£¼ ëª¨ì§‘ì¤‘" %}
                                    <div class="intro_info_status_item"
                                         style="background-color: #111FCD; color: white;">ëª¨ì§‘ì¤‘
                                    </div>
                                    <div class="intro_info_status_item">ëª¨ì§‘ ì™„ë£Œ</div>
                                    <div class="intro_info_status_item">ì§€ë¶„ ë§¤ìˆ˜</div>
                                {% elif item.status == "ëª¨ì§‘ ì™„ë£Œ" %}
                                    <div class="intro_info_status_item">ëª¨ì§‘ì¤‘</div>
                                    <div class="intro_info_status_item"
                                         style="background-color: #111FCD; color: white;">ëª¨ì§‘ ì™„ë£Œ
                                    </div>
                                    <div class="intro_info_status_item">ì§€ë¶„ ë§¤ìˆ˜</div>
                                {% else %}
                                    <div class="intro_info_status_item">ëª¨ì§‘ì¤‘</div>
                                    <div class="intro_info_status_item">ëª¨ì§‘ ì™„ë£Œ</div>
                                    <div class="intro_info_status_item"
                                         style="background-color: #111FCD; color: white;">ì§€ë¶„ ë§¤ìˆ˜
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="intro_info_members">
                            <div class="intro_info_subtitle">
                                <p>ì°¸ì—¬ì í˜„í™©</p>
                                <p> | ì´ ì¸ì›ìˆ˜ {{ item.share_members }} / 8</p>
                            </div>
                            <div class="intro_info_members_container">
                                <div class="member"><img src="{% static 'img/icon_member_empty.svg' %}"></div>
                                <div class="member"><img src="{% static 'img/icon_member_empty.svg' %}"></div>
                                <div class="member"><img src="{% static 'img/icon_member_empty.svg' %}"></div>
                                <div class="member"><img src="{% static 'img/icon_member_empty.svg' %}"></div>
                                <div class="member"><img src="{% static 'img/icon_member_empty.svg' %}"></div>
                                <div class="member"><img src="{% static 'img/icon_member_empty.svg' %}"></div>
                                <div class="member"><img src="{% static 'img/icon_member_empty.svg' %}"></div>
                                <div class="member"><img src="{% static 'img/icon_member_empty.svg' %}"></div>
                                <script type="text/javascript">
                                    var members = document.getElementsByClassName('member');
                                    var num = Number({{ item.share_members }});
                                    for (let i = 0; i < num; i++) {
                                        members[i].firstElementChild.src = "{% static 'img/icon_member_filled.svg' %}";
                                    }
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="section_value">
        <div class="value_container section_container">
            <div class="section_title">
                <p>íœ´ì–‘ì„ ìœ„í•œ</p>
                <p>ìµœì ì˜ ì—¬ê°€ì¡°ê±´</p>
            </div>
            <div class="value_list">
                <div class="value_item">
                    <div class="value_item_image">
                        <img src="{{ item.vacation_images.0 }}">
                    </div>
                    <div class="value_item_body">
                        <div class="value_item_title">
                            {{ item.vacation_first_title }}
                        </div>
                        <div class="value_item_divider"></div>
                        <div class="value_item_text">
                            {{ item.vacation_first_text }}
                        </div>
                    </div>
                </div>
                <div class="value_item">
                    <div class="value_item_image">
                        <img src="{{ item.vacation_images.1 }}">
                    </div>
                    <div class="value_item_body">
                        <div class="value_item_title">
                            {{ item.vacation_second_title }}
                        </div>
                        <div class="value_item_divider"></div>
                        <div class="value_item_text">
                            {{ item.vacation_second_text }}
                        </div>
                    </div>
                </div>
                <div class="value_item">
                    <div class="value_item_image">
                        <img src="{{ item.vacation_images.2 }}">
                    </div>
                    <div class="value_item_body">
                        <div class="value_item_title">
                            {{ item.vacation_third_title }}
                        </div>
                        <div class="value_item_divider"></div>
                        <div class="value_item_text">
                            {{ item.vacation_third_text }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="section_work">
        <div class="work_container section_container">
            <div class="section_title">
                <p>ì„ëŒ€ìˆ˜ìµì„ ìœ„í•œ</p>
                <p>ìµœì ì˜ ê³µê°„êµ¬ì„±</p>
            </div>
            <div class="work_plan">
                í‰ë²”í–ˆë˜ ì˜¤í”¼ìŠ¤í…”ì„ "íœ´ì–‘ì§€ ê±°ì  ì˜¤í”¼ìŠ¤"ë¡œ íƒˆë°”ê¿ˆí•˜ì—¬, ê¸°ì—…ì—ê²Œ ì„ëŒ€í•˜ì—¬ ê³µì‹¤ë¥ ì„ ìµœì†Œí™”í•˜ê³  ë†’ì€ ì„ëŒ€ ìˆ˜ìµì„ ì°½ì¶œí•´ìš”.
            </div>


            <!-- Container for the image gallery -->
            <div class="work_gallery">
                {% for image_src in item.work_images %}
                    <div class="work_gallery_image">
                        <img src="{{ image_src }}"/>
                    </div>
                {% endfor %}

                <!-- Next and previous buttons -->
                <a class="work_prev" onclick="plusWorkSlides(-1)">&#10094;</a>
                <a class="work_next" onclick="plusWorkSlides(1)">&#10095;</a>
            </div>
        </div>
    </section>
    <section id="section_investment">
        <div class="investment_container section_container">
            <div class="section_title">
                <p>ë¯¸ë˜ê°€ì¹˜ë¥¼ ìœ„í•œ</p>
                <p>ìµœì ì˜ ì…ì§€ì¡°ê±´</p>
            </div>
            <div class="investment_image">
                <img src="{{ item.investment_image.0 }}"/>
            </div>
            <div class="investment_point_wrapper">
                <div class="investment_point">
                    <div class="investment_title">êµí†µì˜ ìš”ì§€</div>
                    <div class="investment_divider"></div>
                    <div class="investment_text">{{ item.investment_point_first }}</div>
                </div>
                <div class="investment_point">
                    <div class="investment_title">ê´€ê´‘ì˜ ìš”ì§€</div>
                    <div class="investment_divider"></div>
                    <div class="investment_text">{{ item.investment_point_second }}</div>
                </div>
                <div class="investment_point">
                    <div class="investment_title">ë†’ì€ ê°œë°œ<br>ê°€ëŠ¥ì„±</div>
                    <div class="investment_divider"></div>
                    <div class="investment_text">{{ item.investment_point_third }}</div>
                </div>
                <div class="investment_point">
                    <div class="investment_title">ë„˜ì³ë‚˜ëŠ”<br> ìœ ë™ì¸êµ¬</div>
                    <div class="investment_divider"></div>
                    <div class="investment_text">{{ item.investment_point_fourth }}</div>
                </div>
            </div>
        </div>
    </section>
    <section id="section_info">
        <div class="info_container section_container">
            <div class="section_title">
                <p>ì˜¤í”¼ìŠ¤ë¡œ ì „í™˜ë </p>
                <p>ê³µê°„ ìƒì„¸ì •ë³´</p>
            </div>
            <div class="info_body_container">
                <div class="info_title">
                    ê±´ë¬¼ ê¸°ë³¸ì •ë³´
                </div>

                <a class="info_url" href="{{ item.url }}">
                    <p>ì†Œê°œì‚¬ì´íŠ¸<br>ë³´ëŸ¬ê°€ê¸°</p>
                    <div>
                        <img src="{% static 'img/ask.svg' %}"/>
                    </div>
                </a>
                <div class="info_divider"></div>
                <div class="info_body">
                    <table class="info_table">
                        <tr>
                            <td>
                                <div class="info_table_label">ì´ë¦„</div>
                            </td>
                            <td>{{ item.name }}</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">ì£¼ì†Œ</div>
                            </td>
                            <td>{{ item.address }}</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">êµ¬ë¶„</div>
                            </td>
                            <td>{{ item.item_type }}</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">í˜¸ì‹¤ìˆ˜</div>
                            </td>
                            <td>ì´ {{ item.num_room }}í˜¸ì‹¤</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">ì „ìš©ë©´ì </div>
                            </td>
                            <td>{{ item.size_room }}í‰</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">ì¸µìˆ˜</div>
                            </td>
                            <td>ì´ {{ item.floor }}ê°œì¸µ</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">ë°©í–¥</div>
                            </td>
                            <td>{{ item.direction }}</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">ì£¼ì°¨ëŒ€ìˆ˜</div>
                            </td>
                            <td>ì´ {{ item.parking }}ëŒ€</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">ì—°ë©´ì </div>
                            </td>
                            <td>{{ item.size_floor }}m<sup>2</sup></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">ê±´ì¶•ë©´ì </div>
                            </td>
                            <td>{{ item.size_building }}m<sup>2</sup></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="info_table_label">ì—°ì‹</div>
                            </td>
                            <td>{{ item.age }}</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="info_map_container">
                <div class="info_title">
                    <p>ê±´ë¬¼ ìœ„ì¹˜</p>
                </div>
                <div class="info_divider"></div>
                <div class="info_map">
                    <!-- * ì¹´ì¹´ì˜¤ë§µ - ì§€ë„í¼ê°€ê¸° -->
                    <!-- 1. ì§€ë„ ë…¸ë“œ -->
                    <div id="daumRoughmapContainer{{ item.map_timestamp }}"
                         class="root_daum_roughmap root_daum_roughmap_landing"></div>

                    <!--
                        2. ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
                        * ì§€ë„ í¼ê°€ê¸° ì„œë¹„ìŠ¤ë¥¼ 2ê°œ ì´ìƒ ë„£ì„ ê²½ìš°, ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” í•˜ë‚˜ë§Œ ì‚½ì…í•©ë‹ˆë‹¤.
                    -->
                    <script charset="UTF-8" class="daum_roughmap_loader_script"
                            src="https://ssl.daumcdn.net/dmaps/map_js_init/roughmapLoader.js"></script>

                    <!-- 3. ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ -->
                    <script charset="UTF-8">
                        new daum.roughmap.Lander({
                            "timestamp": "{{ item.map_timestamp }}",
                            "key": "{{ item.map_key }}",
                            "mapWidth": "232",
                            "mapHeight": "232"
                        }).render();
                    </script>
                </div>
            </div>
            <!-- Container for the image gallery -->
            <div class="gallery_container section_container">
                {% for image_src in item.info_images %}
                    <div class="gallery_image">
                        <img src="{{ image_src }}" style="width:100%"/>
                    </div>
                {% endfor %}

                <!-- Next and previous buttons -->
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>
        </div>
    </section>

    <section id="section_cta">
        <div class="cta_container section_container">
            <button id="button_cta" class="button_action">
                ğŸ“ ì‚¬ì—…ê³„íšì„œ ë°›ê¸°
            </button>
        </div>
    </section>

    <div id="modal_cta" class="modal_wrapper">
        <div id="cta_modal" class="modal">
            <div class="modal_container">
                <div class="modal_header">
                    <p>ì‚¬ì—… ê³„íšì„œ ë°›ê¸°</p>
                    <p>ìì„¸í•œ ì •ë³´ë¥¼ ìœ„í•´ ì‚¬ì—…ê³„íšì„œë¥¼ ë°›ì•„ë³´ì„¸ìš”!<br>ìµœëŒ€í•œ ë¹ ë¥¸ ì‹œì¼ ë‚´ì— ì†¡ë¶€ë“œë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
                </div>
                <div class="modal_divider"></div>
                <form class="modal_body" method="post">
                    {% csrf_token %}
                    <div class="modal_item">
                        <div class="modal_title">ì´ë¦„*</div>
                        <input id="modal_name" class="modal_form" type="text" placeholder="í™ê¸¸ë™"></input>
                    </div>
                    <div class="modal_item">
                        <div class="modal_title">ì „í™”ë²ˆí˜¸*</div>
                        <input id="modal_number" class="modal_form" type="tel"
                               placeholder="01012345678 ('-' ì—†ì´ ì…ë ¥)"></input>
                    </div>
                    <div class="modal_item">
                        <div class="modal_title">ì´ë©”ì¼*</div>
                        <input id="modal_email" class="modal_form" type="email" placeholder="abcde@example.com"></input>
                    </div>
                </form>
                <div class="modal_footer">
                    <button id="button_cancel" type="button">ë’¤ë¡œ ê°€ê¸°</button>
                    <button id="button_submit" type="button">ì‚¬ì—…ê³„íšì„œ ë°›ê¸°</button>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/detail/m_section_cta.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/detail/m_section_intro.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/index/m_section_value.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/detail/m_section_vacation.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/detail/m_section_work.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/detail/m_section_investment.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/detail/m_section_info.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/detail/m_section_gallery.css' %}">

{% endblock %}